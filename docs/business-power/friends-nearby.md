# Друзья поблизости

## Текущее местоположение

Отмечается на карте меткой фирменного темно-синего цвета. При нажатии на метку открывается поле добавления комментария.

![панель добавления комментария](https://i.imgur.com/95OBJYB.png)

Если пользователь добавляет комментарий, метка должна сохраняться на его карте.

При повторном нажатии на метку с комментарием открывается панель с этим комментарием, автоматически добавленным адресом, кнопками «Удалить» и «Отмена». Комментарий редактируемый — это должен быть стилизованный под обычный текст  `input` с переданным в него фокусом и, соответственно, мигающей кареткой в конце строки.

![Панель редактирования комментария](https://i.imgur.com/MJlzLyE.png)

## Добавление произвольного места на карту

[См. прототип](https://www.figma.com/proto/PACaf322R5RdAbWK6bqm5N/01-qwerty-business-power?page-id=3647%3A299814&type=design&node-id=3647-299843&viewport=-2572%2C362%2C1&scaling=min-zoom&starting-point-node-id=3647%3A299843&show-proto-sidebar=1).

1. Клик/тап на кнопке «Плюс» («Добавить место») над  картой.

  ![кнопка](https://i.imgur.com/VVaBYfP.png)

2. Все другие точки временно удаляются и в центре карты появляется точка места и всплывающая панель popover.

  ![popover](https://i.imgur.com/RLqfXK6.png)

3. После нажатия на кнопку добавления кнопка остается на карте.

4. Нажатие на нее открывает popover:

  ![popover](https://i.imgur.com/BtAYsPx.png)

5. После добавления метку можно перетащить, нажав её и удерживая. Спустя 2 секунды удерживания она начинает вибрировать, как иконки iOS при редактировании экрана. В таком состоянии ее можно перетащить на новое место.

**Желательно** cделать второй способ добавления:

1. Клик/тап на свободной от булавок области карты.

2. Над точкой появляется плавающая кнопка «Добавить место».

3. После нажатия на появившуюся кнопку процесс проходит также, как и в первом сценарии со второго пункта.

### На мобильных телефонах

На смартфонах popover с формой добавления и уже добавленной информацией реализуется также, как модальные окна — выезжающая из-под нижней границы экрана панель максимальной шириной 414 (iPhone 11 Pro Max в портретной ориентации).

Она содержит миникарту с установленной меткой, так как исходная карта оказывается закрытой.

![popover на мобилках](https://i.imgur.com/MoLk805.png)

[См. прототип](https://www.figma.com/proto/PACaf322R5RdAbWK6bqm5N/01-qwerty-business-power?page-id=3647%3A299814&type=design&node-id=10926-174524&viewport=637%2C78%2C0.33&scaling=min-zoom&starting-point-node-id=10926%3A174524&show-proto-sidebar=1)

## Выделение пользователя в таблице и на карте

![выделение пользователя](https://i.imgur.com/RRBot6r.png)

- При выделении строки пользователя в таблице, она меняет цвет фона на **brand-50**, цвет текста меняется на **brand-text (700)**. При этом аватар пользователя на карте обводится 4-пунктовой линией **brand-500**. А над аватаром появляется светлый тултип с именем и нейтральной тенью 3-го уровня.
- Такие же тултипы появляются над аватарами в состоянии **hover** — когда пользователь наводит на аватар курсор мыши.
